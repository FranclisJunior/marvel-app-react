(this["webpackJsonpsoftplan-test"]=this["webpackJsonpsoftplan-test"]||[]).push([[0],{129:function(e,t,a){e.exports=a(293)},137:function(e,t,a){},155:function(e,t,a){},192:function(e,t,a){},193:function(e,t,a){},291:function(e,t,a){},292:function(e,t,a){},293:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"START_DATA_LOADING",(function(){return A})),a.d(n,"DATA_LOADED",(function(){return S})),a.d(n,"listHeroes",(function(){return D}));var r={};a.r(r),a.d(r,"START_DATA_LOADING",(function(){return P})),a.d(r,"DATA_LOADED",(function(){return G})),a.d(r,"saveHero",(function(){return J})),a.d(r,"getHero",(function(){return V}));var o=a(0),c=a.n(o),i=a(22),s=a(15),l=a(25),u=a(26),m=a(35),d=a(36),p=a(32),h=a(11),f=a(121),v=(a(137),function(){return c.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark navbar-custom fixed-top"},c.a.createElement("div",{className:"container"},c.a.createElement("a",{className:"navbar-brand",href:"/"},c.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/0/04/MarvelLogo.svg"}))))}),b=a(9),g=a(44),E=a.n(g),O=a(75),N=a(114),y=a.n(N),j=new(function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,[{key:"Get",value:function(){var t=Object(O.a)(E.a.mark((function t(a){var n,r,o=arguments;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},t.prev=1,a+="&apikey=71c6c66725f512871978edcf015edc26",r=e.instance().get(a,n),t.next=6,r;case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}],[{key:"instance",value:function(){return y.a.create({baseURL:"https://gateway.marvel.com/v1/public/",timeout:1e4,method:"get",responseType:"json"})}}]),e}()),w=function(){var e=Object(O.a)(E.a.mark((function e(t){var a,n=arguments;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,j.Get(t,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A="ListState/START_DATA_LOADING",S="ListState/DATA_LOADED";function k(e,t,a){return{type:S,payload:{data:e,page:t,totalPages:a}}}function D(e){return function(t){t({type:A});var a=Object.assign({offset:0,name:"",sortName:"",limit:20},e),n=a.offset,r=a.name,o=a.sortName,c=a.limit,i="characters?offset=".concat(n,"&orderBy=").concat(o,"name&limit=").concat(c);r&&(i+="&nameStartsWith=".concat(r)),w(i).then((function(e){try{if(200!==e.status)throw new Error("Marvel API bad response. Status code ".concat(e.status,"."));if(n>e.data.data.total)throw new Error("Page does not exist.");var a=Math.floor(e.data.data.total/c);t(k(e.data.data.results,a,e.data.data.total%c>0?a+1:a))}catch(r){console.error(r),t(k([],0,0))}}))}}a(155);var H=function(e){var t=e.id,a=e.name,n=e.thumbnail;return c.a.createElement("div",{id:t,className:"hero col-xs-12 col-md-3",key:t},c.a.createElement(p.b,{to:"/hero/".concat(t)},c.a.createElement("div",{className:"thumbnail card"},c.a.createElement("div",{className:"img-event"},c.a.createElement("img",{className:"group list-group-image img-fluid",src:n,alt:n})),c.a.createElement("div",{className:"caption card-body"},c.a.createElement("h4",{className:"group card-title inner list-group-item-heading"},a)),c.a.createElement("div",{className:"card-overflow"},c.a.createElement("h4",null,"View Hero")))))},T=a(54),x=a(55),L=a(37),_=(a(192),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e))._searchHeroes=function(e){n.props.actions.listHeroes({name:e})},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"content"},c.a.createElement("input",{id:"search-input",className:"form-control search-input",placeholder:"Search heroes by name",onChange:function(t){return e._searchHeroes(t.target.value)}}))}}]),a}(o.Component)),I=Object(s.b)((function(e){return{}}),(function(e){return{actions:Object(b.b)(n,e)}}))(_),C=(a(193),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(l.a)(this,a),t.call(this,e)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.actions.listHeroes()}},{key:"render",value:function(){return c.a.createElement(x.a,{className:"row"},c.a.createElement(L.a,{xs:12},c.a.createElement(I,null),c.a.createElement("div",{className:"content"},c.a.createElement("div",{className:"heroes row view-group"},this.props.loading&&c.a.createElement("div",{className:"loading"},c.a.createElement(T.CircleToBlockLoading,{color:"red"})),!this.props.loading&&!this.props.data.length&&c.a.createElement("div",{className:"col-sm-12 col-lg-12"},c.a.createElement("h1",{className:"no-result"},"No heroes found with this name")),!this.props.loading&&this.props.data&&this.props.data.map((function(e){return c.a.createElement(H,{key:e.id,id:e.id,name:e.name,description:e.description,thumbnail:e.thumbnail.path+"."+e.thumbnail.extension})}))))))}}]),a}(o.Component)),B=Object(s.b)((function(e){return{data:e.listHeroes.data,loading:e.listHeroes.loading}}),(function(e){return{actions:Object(b.b)(n,e)}}))(C),P="ViewState/START_DATA_LOADING",G="ViewState/DATA_LOADED";function M(){return{type:P}}function R(e){return{type:G,payload:{hero:e}}}function J(e){return localStorage.setItem(e.id,JSON.stringify(e)),function(t){t(R(e))}}function V(e){if(localStorage.getItem(e)){var t=JSON.parse(localStorage.getItem(e));return function(e){e(M()),e(R(t))}}return function(t){t(M()),w("characters/".concat(e,"?")).then((function(e){try{if(200!==e.status)throw new Error("Marvel API bad response. Status code ".concat(e.status,"."));t(R(e.data.data.results[0]))}catch(a){console.error(a),t(R(void 0))}}))}}var F=a(118),z=a(119),U=a(123),W=a(125),q=a(296),K=a(45),Q=a(298),X=a(297),Y=a(124),Z=function(e){var t=e.handleSubmit;return c.a.createElement("form",{onSubmit:t},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"control-label",htmlFor:"name"},"First Name"),c.a.createElement(Q.a,{className:"form-control",name:"name",component:"input",type:"text"})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"control-label",htmlFor:"description"},"Description"),c.a.createElement(Q.a,{className:"form-control",name:"description",component:"textarea",type:"text"})),c.a.createElement(Y.a,{variant:"primary",type:"submit",className:"float-right"},"Save"))};Z=Object(X.a)({form:"hero"})(Z);var $=Z=Object(s.b)((function(e){return{initialValues:e.viewHero.hero}}))(Z),ee=(a(291),function(e){Object(W.a)(a,e);var t=Object(U.a)(a);function a(e){var n;return Object(F.a)(this,a),(n=t.call(this,e)).submit=function(e){n.props.actions.saveHero(e),n.setState({showEdit:!1})},n.state={showEdit:!1},n}return Object(z.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params;this.props.actions.getHero(e.heroId)}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"loading"},this.props.loading&&c.a.createElement(T.CircleToBlockLoading,{color:"red"}),!this.props.loading&&!this.props.hero&&c.a.createElement("div",{className:"col-sm-12 col-lg-12"},c.a.createElement("h1",{className:"no-result"},"Hero not found")),!this.props.loading&&this.props.hero&&c.a.createElement(x.a,{className:"row view-hero"},c.a.createElement(L.a,{md:4},c.a.createElement("div",{className:"img-event"},c.a.createElement("img",{className:"img-fluid",src:this.props.hero.thumbnail.path+"."+this.props.hero.thumbnail.extension}),c.a.createElement(p.b,{to:"/",className:"d-block"},"  Back to list"))),c.a.createElement(L.a,{md:7},c.a.createElement("h1",null,this.props.hero.name),this.props.hero.description?c.a.createElement("p",null,this.props.hero.description):c.a.createElement("p",null,"No description")),c.a.createElement(L.a,{md:1},c.a.createElement(q.a,{color:"white",onClick:function(){return e.setState({showEdit:!0})}})),c.a.createElement(K.a,{show:this.state.showEdit,onHide:function(){return e.setState({showEdit:!1})},size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0},c.a.createElement(K.a.Header,{closeButton:!0},c.a.createElement(K.a.Title,null,"Edit Hero")),c.a.createElement(K.a.Body,null,c.a.createElement($,{onSubmit:this.submit})))))}}]),a}(o.Component)),te=Object(s.b)((function(e){return{hero:e.viewHero.hero,loading:e.listHeroes.loading}}),(function(e){return{actions:Object(b.b)(r,e)}}))(ee),ae=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(v,null),c.a.createElement(f.a,{className:"main"},c.a.createElement(p.a,null,c.a.createElement(h.a,{path:"/",exact:!0,component:B}),c.a.createElement(h.a,{path:"/hero/:heroId",component:te}))))}}]),a}(o.Component),ne=a(122),re=a(299),oe={loading:!1,page:1,totalPages:0,data:[]};var ce={loading:!1,hero:void 0};var ie=Object(b.c)({listHeroes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case A:return Object.assign({},e,{loading:!0});case S:return Object.assign({},e,{loading:!1,data:t.payload.data,page:t.payload.page,totalPages:t.payload.totalPages});default:return e}},viewHero:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case P:return Object.assign({},e,{loading:!0});case G:return Object.assign({},e,{loading:!1,hero:t.payload.hero});default:return e}},form:re.a}),se=function(){return Object(b.d)(ie,Object(b.a)(ne.a))},le=(a(292),se());Object(i.render)(c.a.createElement(s.a,{store:le},c.a.createElement(ae,null)),document.getElementById("root"))}},[[129,1,2]]]);
//# sourceMappingURL=main.96d46276.chunk.js.map